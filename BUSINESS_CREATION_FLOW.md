# Business Creation Flow - Visual Guide

## How to Create a Business

### 1. Access the Creation Flow

**From the Businesses Page:**
- Look for the **[+]** button in the top right corner of the header (next to the filter icon)
- Tap the plus button to open the business creation wizard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‰¡  Businesses         [+] [Filter] â”‚ â† Tap the [+] button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
Create Business Modal Opens
```

---

## Step-by-Step Wizard

### Step 1: Business Information
**Required Fields:**
- Legal Business Name *
- Industry * (select from 19 options)
- Business Email *
- Business Phone *

**Optional Fields:**
- DBA (Doing Business As)
- Website

**Industry Options:**
```
[Construction]  [Roofing]         [HVAC]
[Plumbing]      [Electrical]      [Landscaping]
[Painting]      [Cleaning Svcs]   [Home Services]
[Property Mgmt] [Real Estate]     [Retail]
[Technology]    [Healthcare]      [Education]
[F&B]           [Manufacturing]   [Prof Services]
[Other]
```

**Validation:**
- âœ“ Business name cannot be empty
- âœ“ Email must be valid format (user@domain.com)
- âœ“ Phone must be entered
- âœ“ Industry must be selected

**Actions:**
- [Next â†’] - Validates and proceeds to Step 2

---

### Step 2: Primary Contact (REQUIRED)
**Why Primary Contact?**
> Every business must have a primary contact. When a business becomes a deal, the primary contact receives all communications.

**Two Options:**

#### Option A: Create New Contact
```
Toggle: [â— Create New] [ Search Existing]

Fields:
â”œâ”€ First Name *
â”œâ”€ Last Name *
â”œâ”€ Email *
â””â”€ Phone *
```

#### Option B: Search Existing Contact
```
Toggle: [ Create New] [â— Search Existing]

[ğŸ” Search by name, email, or phone...]

Results:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Sarah Wilson               â”‚
â”‚    sarah.wilson@email.com     â”‚
â”‚    +1 (555) 123-4567         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Mike Chen                  â”‚
â”‚    mike@email.com             â”‚
â”‚    +1 (555) 987-6543         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Validation:**
- âœ“ If creating: All fields required and email must be valid
- âœ“ If searching: Must select a contact

**Actions:**
- [â† Back] - Returns to Step 1
- [Next â†’] - Validates and proceeds to Step 3

---

### Step 3: Billing Address (Optional)
**Option to Use Business Address:**
```
â˜‘ Use business address for billing
```

**If Unchecked, Enter Custom Address:**
```
Street Address:
â””â”€ [123 Main St]

City:                    State:
â””â”€ [Austin]              â””â”€ [TX]

ZIP Code:                Country:
â””â”€ [78701]               â””â”€ [United States]
```

**Info:**
> ğŸ’¡ You can skip this step and add a billing address later from the business details page.

**Actions:**
- [â† Back] - Returns to Step 2
- [Next â†’] - Proceeds to Step 4 (no validation required)

---

### Step 4: Additional Contacts (Optional)
**Add Multiple Contacts with Roles**

**Example: Billing Manager**
```
[+ Add Contact]

When clicked, shows form:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ First Name *: [Jane]            â”‚
â”‚ Last Name *:  [Doe]             â”‚
â”‚ Email *:      [jane@business]   â”‚
â”‚ Phone *:      [+1 555 123]      â”‚
â”‚                                 â”‚
â”‚ Role *:                         â”‚
â”‚ [Owner] [Manager] [â—Billing Mgr]â”‚
â”‚ [Accts Pay] [Accts Recv] [Ops]  â”‚
â”‚ [Project Mgr] [Supervisor]...   â”‚
â”‚                                 â”‚
â”‚ [Cancel] [Add Contact]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Added Contacts Display:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Jane Doe                  âœ• â”‚
â”‚    jane@business.com            â”‚
â”‚    [Billing Manager]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Available Roles:**
- Owner
- Manager
- **Billing Manager** â­
- Accounts Payable
- Accounts Receivable
- Operations Manager
- Project Manager
- Supervisor
- Foreman
- Sales Representative
- Accountant
- Administrative Assistant
- Other

**Info:**
> ğŸ‘¥ You can add more contacts later. Common roles include Billing Manager, Operations Manager, and Accounts Payable.

**Actions:**
- [â† Back] - Returns to Step 3
- [Create Business] - Creates the business with all entered data

---

## Progress Indicator

The modal shows progress at the top:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    (1)â”€â”€â”€â”€â”€(2)â”€â”€â”€â”€â”€(3)â”€â”€â”€â”€â”€(4)              â”‚
â”‚  Business Primary Billing Contacts           â”‚
â”‚    Info   Contact Address                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Active step: Filled purple circle with white number
Completed step: Line connecting filled circles
Future step: Gray circle with gray number
```

---

## Real-World Use Cases

### Use Case 1: Property Management Company
```
Step 1: Business Info
  Name: "Greenfield Properties LLC"
  DBA: "Greenfield Mgmt"
  Industry: Property Management
  Email: info@greenfield.com
  Phone: +1 (555) 100-2000

Step 2: Primary Contact
  Create New:
    John Smith (Owner)
    john@greenfield.com

Step 3: Billing Address
  â˜‘ Use business address

Step 4: Additional Contacts
  + Sarah Johnson - Billing Manager
    sarah@greenfield.com
  + Mike Chen - Operations Manager
    mike@greenfield.com
```

### Use Case 2: Construction Company
```
Step 1: Business Info
  Name: "Acme Construction Inc."
  DBA: "Acme Builders"
  Industry: Construction
  Email: info@acmecon.com
  Phone: +1 (555) 200-3000

Step 2: Primary Contact
  Search Existing:
    Select: Robert Martinez (existing contact)

Step 3: Billing Address
  Custom:
    Street: 500 Industrial Blvd
    City: Austin, State: TX
    ZIP: 78701

Step 4: Additional Contacts
  + Lisa Thompson - Accounts Payable
    lisa@acmecon.com
  + David Kim - Project Manager
    david@acmecon.com
```

---

## Success Flow

After clicking "Create Business":
1. Loading state: Button shows "Creating..."
2. API call simulated (1.5 seconds)
3. Success alert appears:
   ```
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚         Success!            â”‚
   â”‚                            â”‚
   â”‚  Greenfield Properties LLC â”‚
   â”‚  has been created          â”‚
   â”‚  successfully!             â”‚
   â”‚                            â”‚
   â”‚           [OK]             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ```
4. Modal closes and returns to Businesses page
5. New business appears in the list

---

## Discard Changes Confirmation

If user clicks [X] to close modal after entering data:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Discard Changes?         â”‚
â”‚                            â”‚
â”‚  Are you sure you want to  â”‚
â”‚  discard this business?    â”‚
â”‚                            â”‚
â”‚  [Cancel]  [Discard]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Features Summary

âœ… **Multi-Step Wizard** - Breaks complex form into manageable steps
âœ… **Required Primary Contact** - Ensures proper communication flow
âœ… **Flexible Contact Entry** - Create new or search existing
âœ… **Role-Based Organization** - Assign specific roles like "Billing Manager"
âœ… **Optional Fields** - Skip billing address and additional contacts
âœ… **Form Validation** - Real-time validation with helpful error messages
âœ… **Progress Tracking** - Visual step indicator shows progress
âœ… **Smart Navigation** - Back/Next buttons with validation
âœ… **Confirmation Dialogs** - Prevent accidental data loss
âœ… **Professional UI** - Clean, modern interface matching app design

---

## Business Logic

### Why Primary Contact is Required
1. **Deal Communication**: When a business record becomes a deal, the system needs to know who to contact
2. **Relationship Management**: Businesses are governed by contacts - they don't exist in isolation
3. **Data Integrity**: Ensures every business has at least one point of contact

### Contact Roles Importance
- **Billing Manager**: Receives invoices and payment communications
- **Operations Manager**: Handles day-to-day operations
- **Accounts Payable**: Processes payments
- **Project Manager**: Oversees specific projects

### Business vs Contact Entity
```
Business Entity
â”œâ”€ Legal Name, DBA, Industry
â”œâ”€ Contact Information (general)
â”œâ”€ Billing Address
â””â”€ Governed by Contacts
    â”œâ”€ Primary Contact (required) â†’ Receives deal communications
    â””â”€ Additional Contacts (optional)
        â”œâ”€ Billing Manager â†’ Payment flows
        â”œâ”€ Operations Manager â†’ Daily operations
        â””â”€ Other Roles â†’ Specific functions
```

---

## Developer Notes

### Mock Data
Currently uses mock contact data for search functionality:
```typescript
const allContacts = [
  { id: 101, name: 'Sarah Wilson', email: 'sarah.wilson@email.com', ... },
  { id: 102, name: 'Mike Chen', email: 'mike@email.com', ... },
  // ... more contacts
];
```

### API Integration Points
1. **Create Business**: POST /api/businesses
2. **Search Contacts**: GET /api/contacts?search={query}
3. **Create Contact**: POST /api/contacts
4. **Link Contact to Business**: POST /api/businesses/{id}/contacts

### State Structure
```typescript
businessData: {
  name, dba, industry, email, phone, website
}
primaryContact: Contact | ContactFormData
billingAddress: Address
additionalContacts: Contact[]
```

---

## Summary

This business creation flow provides a comprehensive, user-friendly way to create business entities with all necessary information. The wizard approach makes complex data entry feel simple, while enforcing critical requirements like the primary contact. The role-based contact system enables proper communication routing, especially important for billing and deal management workflows.

